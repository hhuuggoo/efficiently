{% extends "base.html" %}
{% block other_scripts%}
<div class="item-controls hide">
  <button class="ctrl-button" id="add-button">add</button>
  <button class="ctrl-button"  id="state-button">todo</button>
  <button class="ctrl-button"  id="overview-button">hide</button>
  <button class="ctrl-button" id="del-button">delete</button>
</div>
<div id="control" class="control-panel hide">
  <ul>
    <li>
      <div class="nav-button" id="left-button-ctrl">left</div>
    </li>
    <li>
      <div class="nav-button"  id="right-button-ctrl">right</div>
    </li>
    <li>
      <div class="nav-button"  id="up-button-ctrl">up</div>
    </li>
    <li>
      <div class="nav-button" id="down-button-ctrl">down</div>
    </li>
    <li>
      <div class="nav-button"  id="todo-button-ctrl">todo</div>
    </li>
    <li>
      <div class="nav-button"  id="hide-button-ctrl">hide</div>
    </li>
    <li>
      <div class="nav-button"  id="add-button-ctrl">add</div>
    </li>
    <li>
      <div class="nav-button"  id="del-button-ctrl">del</div>
    </li>

</div>

<script type="text/template" id="outline-template">
  <div id="<%= id %>" class="outline clearfix ">
    <div class="clearfix ">
      <div id="<%= id%>-content" class="content ">
	<div class="fakedotcontainer" id="<%= id%>-fakedotcontainer">
	  <image class="fakedot"> </image>	  
	</div>
	<div class="hideindicator" id="<%= id %>-hideindicator"></div>
	<div class="abox outline-input" id="<%= id %>-text">
	  <textarea id="<%= id %>-textarea" 
		    class="outline-input" style="display:none"></textarea>
	  <div id="<%= id %>-textdisplay" class="outline-textdisplay"></div>
	</div>
      </div>
      <div class="clearfix">
	<div id="<%= id%>-childcontainer" class="clearfix">
	  <div class="edge" id="<%= id %>-topedge"></div>
	  <div class="fakedotcontainer" id="<%= id%>-childspacer"></div>
	  <div class="abox">
	    <div id="<%= id %>-children" class="children"></div>
	  </div>
	</div>
	<div class="edge" id="<%= id %>-bottomedge"></div>
      </div>
    </div>
</script>
<script type="text/template" id="root-template">
  <div id="<%= id %>" class="outline clearfix ">
    <div id="<%= id%>-childcontainer" class="clearfix">
      <div id="<%= id %>-children" class=" clearfix">
      </div>
    </div>
  </div>
</script>
<script type="text/template" id="doc-template">

</script>
<!-- start outlinejs -->
<script src="/static/js/localstorage.js"></script>
<script src="/static/js/model.js"></script>
<script src="/static/js/outline.js"></script>
<script src="/static/js/keybindings.js"></script>
<script src="/static/js/sockets.js"></script>
<script src="/static/js/socket.io.js"></script>
<!-- end outlinejs -->
{% end %}
{% block main %}
<!-- information passed down to client -->
<div id="document_id" class="hide">{{document_id}}</div>
<div id="root_id" class="hide">{{root_id}}</div>
<div id="client_id" class="hide">{{client_id}}</div>
<div id="mode" class="hide">{{mode}}</div>
<div class="searchbox hide" id="searchbox">
  <textarea class="searchtext" id="searchtext"></textarea>
  <div>Incremental Search Alt + [ and alt + ] to search forward and backwards</div> 
</div>
<div>
  <div class="ten columns clearfix alpha">
    <div id="connected"></div>
    <h4>{{ title }}: by {{ owner }}</h4>
    {% if mode == 'r' %}
    Warning, this document is opened in read only mode, 
    you will not be able to save any changes
    {% end %}
    <div class="abox" id="{{document_id}}-display}}">
      <button class="global-button left" id="{{document_id}}-add">add</button>
      <div class="left">search:  </div>
      <div class="abox">
	<textarea type="text" id="{{document_id}}-search" class="left search textborder"></textarea>
      </div>
    </div>
    <div id="{{document_id}}-outline" class="">
    </div>
    <hr>
    <div id="trash" class="">
      <button class="left" id="global-clear-trash">clear trash
      </button>
      <div class="clearfix" id="trash">
      </div>
    </div>
  </div>
  <div class="six columns clearfix omega">
    Yata just got upgraded!  you should notice differences in how todo states and hash tags and @people render,
    hopefully you like it, please email comments@yata.in with any suggestions you may have.  Also, we've added some
    ugly nav bars, but that you can use those for mobile!  yata now works in mobile!
    <hr>
    <h4>Instructions</h4>
    <ul class="square">
      <li>
	Hit the add button to add a topic
      </li>
      <li>
	click on the bullet points to drag topics and subtopics around
      </li>
      <li>
	double clicking the bullet point gives you a menu for topic
      </li>
      <li>
	adding #hashtags and @people will also highlight them in blue.
      </li>

    </ul>
    <h5>Keyboard</h5>
    <ul class="square">
      <li>
	Some of the short cuts require a Mod key, you can use ctrl or alt or option for that.
      </li>
      <li>use the arrow keys to navigate
      </li>
      <li>
	mod + arrow keys will move items around, mod + backspace will
	delete an item
      </li>
      <li>
	mod + / will hide topics, mod + > will hide subtopics of the selected item, mod + < will change the todo status
											    </li>
      <li>
	enter key will create another topic.  mod + enter will create a subtopic
      </li>
      <li>
	Incremental Search mod + [ and mod + ] to search forward and backwards, 
	mod + p will bring up the search box
      </li>
    </ul>

    <h5>Data</h5>
    <ul class="square">
      <li>
	There is an export link above where you can get your outlines in txt form
      </li>
      <li>
	There is an import link above as well, where you can upload data into your outline.
	Just format it the same way the export displays the data
      </li>
      <li>
	You can also email these imports into your document, send an email to {{ owner }}@yata.in, 
	with a subject: {{title}}, and the message body, structured the same way as the data import.
      </li>
    </ul>
  </div>
</ul>
</div>
{% end %}
